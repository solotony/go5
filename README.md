# Структура

#### характеристики
- наименование уникальное
- наименование отображаемое
- handle
- тип (целое, дробное, множество)
- представление


#### категория
- наименование
- slug
- родители

Категория может иметь множество родителей. При этом дочерние категории могут быть 2-х видов - с наследлованием и без 
наследования. Все дерево дочерних категорий называется "потомки" ("Descendants"). Все дерево дочерних категорий с 
наследованием называется "наследники" ("Inheriters").

Аналогично для предшественников применяются термины и Предшественник ("Рredecessor") для "потомков" ("Descendants") и "Предок" 
("Ancestor") - для "наследников" ("Inheriters").

При наследовании дочерняя категория наследует все характеристики родительских категорий. При отборе с учетом фильтров 
отбор осуществляется по дереву наследников.

Потомки используются в интерфейсе для навигации. Например В раздел "фотокамеры" добавляются подразделы "источники 
питания" и "аксессуары". В этом случае при фильтрации товаров из в разделе "фотокамеры" не должны попадать 
товары из подразделов "источники питания" и "аксессуары". 

#### товары
- наименование
- изображения
- описания
- категории
- характеристики
- параметры (если они заданы - то товар становится вариативным)
- комплект (если у товара есть параметры, то комплект задается для каждого параметра)


#### характеристики товара
- категория
- товар
- характеристики в соответствии с шаблоном

*если товар относится к нескольким категориям, то для каждой комбинации товар-категория создается набор характеристик. 
если одна и та же характеристика имеется в нескольких наборах, то при редактировании строится набор уникальных 
характенистик, а при сохранении характеристика сохраняется в каждом из наборов.*

*если значение характеристики в каком-то из наборов отсутствует туда подставляется значение из другого набора.
если значение характеристики в различных наборах отличается - то это ЖОПА (такого быть не должно)*


#### sku
- артикул
- товар
- наименование единицы товара (шт, метр ... )
- количественные хактеристики
    - вес
    - объем
    - длина
- размер партии (упаковки) - товар продается кратно
- минимальное количество
- текущий остаток (складской учет)
- минимально допустимый остаток - необходимо выкупить и его (складской учет)
- цена (розница, мелкий опт, опт)
- старая цена (маркетинговая хрень)

*если у товара только 1 sku то редактируется "прозрачно", пользователь не должен видеть никаких SKU* 


#### покупатель
- ценовая группа (розница, мелкий опт, опт)
- персонвльный %скидки (наценки) поверх ценовой группы


#### упаковка


#### служба доставки


#### служба оплаты


#### заказ
- товары заказа
- покупатель
- акция
- условия упаковки
- условия доставки
- условия оплаты
- статус отгрузки
- статус оплаты


#### акция
- срок действия 
- вид акции


#### купон (промокод)
- срок действия 
- сумма заказа от
- % скидки
- максимальная сумма скидки
- количество применений
- применен 

